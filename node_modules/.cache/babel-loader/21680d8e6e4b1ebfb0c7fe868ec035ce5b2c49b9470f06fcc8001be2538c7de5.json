{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import'../styles/VideoSection.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoSection=()=>{const bgChangeRef=useRef(null);const movieRef=useRef(null);const[hide,setHide]=useState(true);const[topPrev,setTopPrev]=useState(window.scrollY);const movieTopRef=useRef(0);const touchStartY=useRef(0);useEffect(()=>{// 컴포넌트가 마운트될 때 movie 요소의 문서 상단 위치를 계산 (300px을 빼서 기준값 설정)\nif(movieRef.current){const rect=movieRef.current.getBoundingClientRect();movieTopRef.current=Math.trunc(rect.top+window.scrollY)-300;}const handleWheel=e=>{const topNow=window.scrollY;const delta=topNow-topPrev;// 스크롤이 내려갈 때 (delta > 0)\nif(topNow>100&&delta>0&&hide&&bgChangeRef.current){bgChangeRef.current.classList.remove('hide');}if(topNow>300&&delta>0&&hide&&movieRef.current){const videoEl=movieRef.current.querySelector('video');if(videoEl){videoEl.classList.add('big');}setHide(false);}// 스크롤이 올라갈 때 (delta < 0)\nelse if(topNow<=movieTopRef.current&&delta<0&&!hide&&bgChangeRef.current&&movieRef.current){const videoEl=movieRef.current.querySelector('video');if(videoEl){videoEl.classList.remove('big');}bgChangeRef.current.classList.add('hide');setHide(true);}setTopPrev(topNow);};const handleTouchStart=e=>{touchStartY.current=e.touches[0].clientY;};const handleTouchEnd=e=>{const touchEndY=e.changedTouches[0].clientY;const deltaY=touchStartY.current-touchEndY;const currentScroll=window.scrollY;if(currentScroll>100&&deltaY>30&&hide&&bgChangeRef.current){bgChangeRef.current.classList.remove('hide');}if(currentScroll>300&&deltaY>30&&hide&&movieRef.current){const videoEl=movieRef.current.querySelector('video');if(videoEl){videoEl.classList.add('big');}setHide(false);}else if(currentScroll<=movieTopRef.current&&deltaY<-30&&!hide&&bgChangeRef.current&&movieRef.current){const videoEl=movieRef.current.querySelector('video');if(videoEl){videoEl.classList.remove('big');}bgChangeRef.current.classList.add('hide');setHide(true);}setTopPrev(currentScroll);};window.addEventListener('wheel',handleWheel);window.addEventListener('touchstart',handleTouchStart);window.addEventListener('touchend',handleTouchEnd);return()=>{window.removeEventListener('wheel',handleWheel);window.removeEventListener('touchstart',handleTouchStart);window.removeEventListener('touchend',handleTouchEnd);};},[topPrev,hide]);return/*#__PURE__*/_jsx(\"section\",{id:\"bgChange\",className:\"hide\",ref:bgChangeRef,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sec4Text\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"NAIL ART\",/*#__PURE__*/_jsx(\"br\",{}),\"CREATION COMPANY\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uACE0\\uAC1D\\uC758 \\uB9C8\\uC74C\\uC744 \\uC774\\uD574\\uD558\\uB294 \\uC815\\uC6D0\\uB124\\uC77C\\uC544\\uD2B8\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"movie\",ref:movieRef,children:/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,controls:true,children:/*#__PURE__*/_jsx(\"source\",{src:\"https://lee-kunwoo.github.io/nailart/video/20250224_1209_Fairy Nail Magic_simple_compose_01jmtywkm7efcvdzaktjn6h844.mp4\",type:\"video/mp4\"})})})]})});};export default VideoSection;","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","VideoSection","bgChangeRef","movieRef","hide","setHide","topPrev","setTopPrev","window","scrollY","movieTopRef","touchStartY","current","rect","getBoundingClientRect","Math","trunc","top","handleWheel","e","topNow","delta","classList","remove","videoEl","querySelector","add","handleTouchStart","touches","clientY","handleTouchEnd","touchEndY","changedTouches","deltaY","currentScroll","addEventListener","removeEventListener","id","className","ref","children","autoPlay","loop","muted","controls","src","type"],"sources":["C:/nailmall/src/com/VideoSection.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport '../styles/VideoSection.scss';\r\n\r\nconst VideoSection = () => {\r\n    const bgChangeRef = useRef(null);\r\n    const movieRef = useRef(null);\r\n    const [hide, setHide] = useState(true);\r\n    const [topPrev, setTopPrev] = useState(window.scrollY);\r\n    const movieTopRef = useRef(0);\r\n    const touchStartY = useRef(0);\r\n  \r\n    useEffect(() => {\r\n      // 컴포넌트가 마운트될 때 movie 요소의 문서 상단 위치를 계산 (300px을 빼서 기준값 설정)\r\n      if (movieRef.current) {\r\n        const rect = movieRef.current.getBoundingClientRect();\r\n        movieTopRef.current = Math.trunc(rect.top + window.scrollY) - 300;\r\n      }\r\n  \r\n      const handleWheel = (e) => {\r\n        const topNow = window.scrollY;\r\n        const delta = topNow - topPrev;\r\n  \r\n        // 스크롤이 내려갈 때 (delta > 0)\r\n        if (topNow > 100 && delta > 0 && hide && bgChangeRef.current) {\r\n          bgChangeRef.current.classList.remove('hide');\r\n        }\r\n        if (topNow > 300 && delta > 0 && hide && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.add('big');\r\n          }\r\n          setHide(false);\r\n        }\r\n        // 스크롤이 올라갈 때 (delta < 0)\r\n        else if (topNow <= movieTopRef.current && delta < 0 && !hide && bgChangeRef.current && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.remove('big');\r\n          }\r\n          bgChangeRef.current.classList.add('hide');\r\n          setHide(true);\r\n        }\r\n        setTopPrev(topNow);\r\n      };\r\n  \r\n      const handleTouchStart = (e) => {\r\n        touchStartY.current = e.touches[0].clientY;\r\n      };\r\n  \r\n      const handleTouchEnd = (e) => {\r\n        const touchEndY = e.changedTouches[0].clientY;\r\n        const deltaY = touchStartY.current - touchEndY;\r\n        const currentScroll = window.scrollY;\r\n  \r\n        if (currentScroll > 100 && deltaY > 30 && hide && bgChangeRef.current) {\r\n          bgChangeRef.current.classList.remove('hide');\r\n        }\r\n        if (currentScroll > 300 && deltaY > 30 && hide && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.add('big');\r\n          }\r\n          setHide(false);\r\n        } else if (currentScroll <= movieTopRef.current && deltaY < -30 && !hide && bgChangeRef.current && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.remove('big');\r\n          }\r\n          bgChangeRef.current.classList.add('hide');\r\n          setHide(true);\r\n        }\r\n        setTopPrev(currentScroll);\r\n      };\r\n  \r\n      window.addEventListener('wheel', handleWheel);\r\n      window.addEventListener('touchstart', handleTouchStart);\r\n      window.addEventListener('touchend', handleTouchEnd);\r\n  \r\n      return () => {\r\n        window.removeEventListener('wheel', handleWheel);\r\n        window.removeEventListener('touchstart', handleTouchStart);\r\n        window.removeEventListener('touchend', handleTouchEnd);\r\n      };\r\n    }, [topPrev, hide]);\r\n  \r\n    return (\r\n      <section id=\"bgChange\" className=\"hide\" ref={bgChangeRef}>\r\n        <div>\r\n          <div className=\"sec4Text\">\r\n            <p>\r\n              NAIL ART\r\n              <br />\r\n              CREATION COMPANY\r\n            </p>\r\n            <p>고객의 마음을 이해하는 정원네일아트</p>\r\n          </div>\r\n          <div id=\"movie\" ref={movieRef}>\r\n            <video autoPlay loop muted controls>\r\n              <source src=\"https://lee-kunwoo.github.io/nailart/video/20250224_1209_Fairy Nail Magic_simple_compose_01jmtywkm7efcvdzaktjn6h844.mp4\" type=\"video/mp4\" />\r\n            </video>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  };\r\n  \r\n  export default VideoSection;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,WAAW,CAAGP,MAAM,CAAC,IAAI,CAAC,CAChC,KAAM,CAAAQ,QAAQ,CAAGR,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAACY,MAAM,CAACC,OAAO,CAAC,CACtD,KAAM,CAAAC,WAAW,CAAGf,MAAM,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAAgB,WAAW,CAAGhB,MAAM,CAAC,CAAC,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd;AACA,GAAIS,QAAQ,CAACS,OAAO,CAAE,CACpB,KAAM,CAAAC,IAAI,CAAGV,QAAQ,CAACS,OAAO,CAACE,qBAAqB,CAAC,CAAC,CACrDJ,WAAW,CAACE,OAAO,CAAGG,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,GAAG,CAAGT,MAAM,CAACC,OAAO,CAAC,CAAG,GAAG,CACnE,CAEA,KAAM,CAAAS,WAAW,CAAIC,CAAC,EAAK,CACzB,KAAM,CAAAC,MAAM,CAAGZ,MAAM,CAACC,OAAO,CAC7B,KAAM,CAAAY,KAAK,CAAGD,MAAM,CAAGd,OAAO,CAE9B;AACA,GAAIc,MAAM,CAAG,GAAG,EAAIC,KAAK,CAAG,CAAC,EAAIjB,IAAI,EAAIF,WAAW,CAACU,OAAO,CAAE,CAC5DV,WAAW,CAACU,OAAO,CAACU,SAAS,CAACC,MAAM,CAAC,MAAM,CAAC,CAC9C,CACA,GAAIH,MAAM,CAAG,GAAG,EAAIC,KAAK,CAAG,CAAC,EAAIjB,IAAI,EAAID,QAAQ,CAACS,OAAO,CAAE,CACzD,KAAM,CAAAY,OAAO,CAAGrB,QAAQ,CAACS,OAAO,CAACa,aAAa,CAAC,OAAO,CAAC,CACvD,GAAID,OAAO,CAAE,CACXA,OAAO,CAACF,SAAS,CAACI,GAAG,CAAC,KAAK,CAAC,CAC9B,CACArB,OAAO,CAAC,KAAK,CAAC,CAChB,CACA;AAAA,IACK,IAAIe,MAAM,EAAIV,WAAW,CAACE,OAAO,EAAIS,KAAK,CAAG,CAAC,EAAI,CAACjB,IAAI,EAAIF,WAAW,CAACU,OAAO,EAAIT,QAAQ,CAACS,OAAO,CAAE,CACvG,KAAM,CAAAY,OAAO,CAAGrB,QAAQ,CAACS,OAAO,CAACa,aAAa,CAAC,OAAO,CAAC,CACvD,GAAID,OAAO,CAAE,CACXA,OAAO,CAACF,SAAS,CAACC,MAAM,CAAC,KAAK,CAAC,CACjC,CACArB,WAAW,CAACU,OAAO,CAACU,SAAS,CAACI,GAAG,CAAC,MAAM,CAAC,CACzCrB,OAAO,CAAC,IAAI,CAAC,CACf,CACAE,UAAU,CAACa,MAAM,CAAC,CACpB,CAAC,CAED,KAAM,CAAAO,gBAAgB,CAAIR,CAAC,EAAK,CAC9BR,WAAW,CAACC,OAAO,CAAGO,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAC5C,CAAC,CAED,KAAM,CAAAC,cAAc,CAAIX,CAAC,EAAK,CAC5B,KAAM,CAAAY,SAAS,CAAGZ,CAAC,CAACa,cAAc,CAAC,CAAC,CAAC,CAACH,OAAO,CAC7C,KAAM,CAAAI,MAAM,CAAGtB,WAAW,CAACC,OAAO,CAAGmB,SAAS,CAC9C,KAAM,CAAAG,aAAa,CAAG1B,MAAM,CAACC,OAAO,CAEpC,GAAIyB,aAAa,CAAG,GAAG,EAAID,MAAM,CAAG,EAAE,EAAI7B,IAAI,EAAIF,WAAW,CAACU,OAAO,CAAE,CACrEV,WAAW,CAACU,OAAO,CAACU,SAAS,CAACC,MAAM,CAAC,MAAM,CAAC,CAC9C,CACA,GAAIW,aAAa,CAAG,GAAG,EAAID,MAAM,CAAG,EAAE,EAAI7B,IAAI,EAAID,QAAQ,CAACS,OAAO,CAAE,CAClE,KAAM,CAAAY,OAAO,CAAGrB,QAAQ,CAACS,OAAO,CAACa,aAAa,CAAC,OAAO,CAAC,CACvD,GAAID,OAAO,CAAE,CACXA,OAAO,CAACF,SAAS,CAACI,GAAG,CAAC,KAAK,CAAC,CAC9B,CACArB,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,IAAM,IAAI6B,aAAa,EAAIxB,WAAW,CAACE,OAAO,EAAIqB,MAAM,CAAG,CAAC,EAAE,EAAI,CAAC7B,IAAI,EAAIF,WAAW,CAACU,OAAO,EAAIT,QAAQ,CAACS,OAAO,CAAE,CACnH,KAAM,CAAAY,OAAO,CAAGrB,QAAQ,CAACS,OAAO,CAACa,aAAa,CAAC,OAAO,CAAC,CACvD,GAAID,OAAO,CAAE,CACXA,OAAO,CAACF,SAAS,CAACC,MAAM,CAAC,KAAK,CAAC,CACjC,CACArB,WAAW,CAACU,OAAO,CAACU,SAAS,CAACI,GAAG,CAAC,MAAM,CAAC,CACzCrB,OAAO,CAAC,IAAI,CAAC,CACf,CACAE,UAAU,CAAC2B,aAAa,CAAC,CAC3B,CAAC,CAED1B,MAAM,CAAC2B,gBAAgB,CAAC,OAAO,CAAEjB,WAAW,CAAC,CAC7CV,MAAM,CAAC2B,gBAAgB,CAAC,YAAY,CAAER,gBAAgB,CAAC,CACvDnB,MAAM,CAAC2B,gBAAgB,CAAC,UAAU,CAAEL,cAAc,CAAC,CAEnD,MAAO,IAAM,CACXtB,MAAM,CAAC4B,mBAAmB,CAAC,OAAO,CAAElB,WAAW,CAAC,CAChDV,MAAM,CAAC4B,mBAAmB,CAAC,YAAY,CAAET,gBAAgB,CAAC,CAC1DnB,MAAM,CAAC4B,mBAAmB,CAAC,UAAU,CAAEN,cAAc,CAAC,CACxD,CAAC,CACH,CAAC,CAAE,CAACxB,OAAO,CAAEF,IAAI,CAAC,CAAC,CAEnB,mBACEN,IAAA,YAASuC,EAAE,CAAC,UAAU,CAACC,SAAS,CAAC,MAAM,CAACC,GAAG,CAAErC,WAAY,CAAAsC,QAAA,cACvDxC,KAAA,QAAAwC,QAAA,eACExC,KAAA,QAAKsC,SAAS,CAAC,UAAU,CAAAE,QAAA,eACvBxC,KAAA,MAAAwC,QAAA,EAAG,UAED,cAAA1C,IAAA,QAAK,CAAC,mBAER,EAAG,CAAC,cACJA,IAAA,MAAA0C,QAAA,CAAG,qGAAmB,CAAG,CAAC,EACvB,CAAC,cACN1C,IAAA,QAAKuC,EAAE,CAAC,OAAO,CAACE,GAAG,CAAEpC,QAAS,CAAAqC,QAAA,cAC5B1C,IAAA,UAAO2C,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,QAAQ,MAAAJ,QAAA,cACjC1C,IAAA,WAAQ+C,GAAG,CAAC,yHAAyH,CAACC,IAAI,CAAC,WAAW,CAAE,CAAC,CACpJ,CAAC,CACL,CAAC,EACH,CAAC,CACC,CAAC,CAEd,CAAC,CAED,cAAe,CAAA7C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
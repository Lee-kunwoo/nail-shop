{"ast":null,"code":"var _jsxFileName = \"C:\\\\nailmall\\\\src\\\\com\\\\VideoSection.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport '../styles/VideoSection.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoSection = () => {\n  _s();\n  const bgChangeRef = useRef(null);\n  const movieRef = useRef(null);\n  const [hide, setHide] = useState(true);\n  const [topPrev, setTopPrev] = useState(window.scrollY);\n  const movieTopRef = useRef(0);\n  const touchStartY = useRef(0);\n  useEffect(() => {\n    // 컴포넌트가 마운트될 때 movie 요소의 문서 상단 위치를 계산 (300px을 빼서 기준값 설정)\n    if (movieRef.current) {\n      const rect = movieRef.current.getBoundingClientRect();\n      movieTopRef.current = Math.trunc(rect.top + window.scrollY) - 300;\n    }\n    const handleWheel = e => {\n      const topNow = window.scrollY;\n      const delta = topNow - topPrev;\n\n      // 스크롤이 내려갈 때 (delta > 0)\n      if (topNow > 100 && delta > 0 && hide && bgChangeRef.current) {\n        bgChangeRef.current.classList.remove('hide');\n      }\n      if (topNow > 300 && delta > 0 && hide && movieRef.current) {\n        const videoEl = movieRef.current.querySelector('video');\n        if (videoEl) {\n          videoEl.classList.add('big');\n        }\n        setHide(false);\n      }\n      // 스크롤이 올라갈 때 (delta < 0)\n      else if (topNow <= movieTopRef.current && delta < 0 && !hide && bgChangeRef.current && movieRef.current) {\n        const videoEl = movieRef.current.querySelector('video');\n        if (videoEl) {\n          videoEl.classList.remove('big');\n        }\n        bgChangeRef.current.classList.add('hide');\n        setHide(true);\n      }\n      setTopPrev(topNow);\n    };\n    const handleTouchStart = e => {\n      touchStartY.current = e.touches[0].clientY;\n    };\n    const handleTouchEnd = e => {\n      const touchEndY = e.changedTouches[0].clientY;\n      const deltaY = touchStartY.current - touchEndY;\n      const currentScroll = window.scrollY;\n      if (currentScroll > 100 && deltaY > 30 && hide && bgChangeRef.current) {\n        bgChangeRef.current.classList.remove('hide');\n      }\n      if (currentScroll > 300 && deltaY > 30 && hide && movieRef.current) {\n        const videoEl = movieRef.current.querySelector('video');\n        if (videoEl) {\n          videoEl.classList.add('big');\n        }\n        setHide(false);\n      } else if (currentScroll <= movieTopRef.current && deltaY < -30 && !hide && bgChangeRef.current && movieRef.current) {\n        const videoEl = movieRef.current.querySelector('video');\n        if (videoEl) {\n          videoEl.classList.remove('big');\n        }\n        bgChangeRef.current.classList.add('hide');\n        setHide(true);\n      }\n      setTopPrev(currentScroll);\n    };\n    window.addEventListener('wheel', handleWheel);\n    window.addEventListener('touchstart', handleTouchStart);\n    window.addEventListener('touchend', handleTouchEnd);\n    return () => {\n      window.removeEventListener('wheel', handleWheel);\n      window.removeEventListener('touchstart', handleTouchStart);\n      window.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [topPrev, hide]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"bgChange\",\n    className: \"hide\",\n    ref: bgChangeRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sec4Text\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"MAIL ART\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), \"CREATION COMPANY\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uACE0\\uAC1D\\uC758 \\uB9C8\\uC74C\\uC744 \\uC774\\uD574\\uD558\\uB294 \\uC815\\uC6D0\\uB124\\uC77C\\uC544\\uD2B8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"movie\",\n        ref: movieRef,\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          autoPlay: true,\n          loop: true,\n          muted: true,\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: \"https://sora.com/g/gen_01jmtywkm7efcvdzaktjn6h844\",\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 7\n  }, this);\n};\n_s(VideoSection, \"+RLLxZXgGKI5HeR7+eoBedftP0c=\");\n_c = VideoSection;\nexport default VideoSection;\nvar _c;\n$RefreshReg$(_c, \"VideoSection\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","VideoSection","_s","bgChangeRef","movieRef","hide","setHide","topPrev","setTopPrev","window","scrollY","movieTopRef","touchStartY","current","rect","getBoundingClientRect","Math","trunc","top","handleWheel","e","topNow","delta","classList","remove","videoEl","querySelector","add","handleTouchStart","touches","clientY","handleTouchEnd","touchEndY","changedTouches","deltaY","currentScroll","addEventListener","removeEventListener","id","className","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","autoPlay","loop","muted","controls","src","type","_c","$RefreshReg$"],"sources":["C:/nailmall/src/com/VideoSection.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport '../styles/VideoSection.scss';\r\n\r\nconst VideoSection = () => {\r\n    const bgChangeRef = useRef(null);\r\n    const movieRef = useRef(null);\r\n    const [hide, setHide] = useState(true);\r\n    const [topPrev, setTopPrev] = useState(window.scrollY);\r\n    const movieTopRef = useRef(0);\r\n    const touchStartY = useRef(0);\r\n  \r\n    useEffect(() => {\r\n      // 컴포넌트가 마운트될 때 movie 요소의 문서 상단 위치를 계산 (300px을 빼서 기준값 설정)\r\n      if (movieRef.current) {\r\n        const rect = movieRef.current.getBoundingClientRect();\r\n        movieTopRef.current = Math.trunc(rect.top + window.scrollY) - 300;\r\n      }\r\n  \r\n      const handleWheel = (e) => {\r\n        const topNow = window.scrollY;\r\n        const delta = topNow - topPrev;\r\n  \r\n        // 스크롤이 내려갈 때 (delta > 0)\r\n        if (topNow > 100 && delta > 0 && hide && bgChangeRef.current) {\r\n          bgChangeRef.current.classList.remove('hide');\r\n        }\r\n        if (topNow > 300 && delta > 0 && hide && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.add('big');\r\n          }\r\n          setHide(false);\r\n        }\r\n        // 스크롤이 올라갈 때 (delta < 0)\r\n        else if (topNow <= movieTopRef.current && delta < 0 && !hide && bgChangeRef.current && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.remove('big');\r\n          }\r\n          bgChangeRef.current.classList.add('hide');\r\n          setHide(true);\r\n        }\r\n        setTopPrev(topNow);\r\n      };\r\n  \r\n      const handleTouchStart = (e) => {\r\n        touchStartY.current = e.touches[0].clientY;\r\n      };\r\n  \r\n      const handleTouchEnd = (e) => {\r\n        const touchEndY = e.changedTouches[0].clientY;\r\n        const deltaY = touchStartY.current - touchEndY;\r\n        const currentScroll = window.scrollY;\r\n  \r\n        if (currentScroll > 100 && deltaY > 30 && hide && bgChangeRef.current) {\r\n          bgChangeRef.current.classList.remove('hide');\r\n        }\r\n        if (currentScroll > 300 && deltaY > 30 && hide && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.add('big');\r\n          }\r\n          setHide(false);\r\n        } else if (currentScroll <= movieTopRef.current && deltaY < -30 && !hide && bgChangeRef.current && movieRef.current) {\r\n          const videoEl = movieRef.current.querySelector('video');\r\n          if (videoEl) {\r\n            videoEl.classList.remove('big');\r\n          }\r\n          bgChangeRef.current.classList.add('hide');\r\n          setHide(true);\r\n        }\r\n        setTopPrev(currentScroll);\r\n      };\r\n  \r\n      window.addEventListener('wheel', handleWheel);\r\n      window.addEventListener('touchstart', handleTouchStart);\r\n      window.addEventListener('touchend', handleTouchEnd);\r\n  \r\n      return () => {\r\n        window.removeEventListener('wheel', handleWheel);\r\n        window.removeEventListener('touchstart', handleTouchStart);\r\n        window.removeEventListener('touchend', handleTouchEnd);\r\n      };\r\n    }, [topPrev, hide]);\r\n  \r\n    return (\r\n      <section id=\"bgChange\" className=\"hide\" ref={bgChangeRef}>\r\n        <div>\r\n          <div className=\"sec4Text\">\r\n            <p>\r\n              MAIL ART\r\n              <br />\r\n              CREATION COMPANY\r\n            </p>\r\n            <p>고객의 마음을 이해하는 정원네일아트</p>\r\n          </div>\r\n          <div id=\"movie\" ref={movieRef}>\r\n            <video autoPlay loop muted controls>\r\n              <source src=\"https://sora.com/g/gen_01jmtywkm7efcvdzaktjn6h844\" type=\"video/mp4\" />\r\n            </video>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  };\r\n  \r\n  export default VideoSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}